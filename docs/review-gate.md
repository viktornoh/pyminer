# PyMiner 리뷰 게이트 (본질 통제)

기준 문서: `기획서-v1.md`  
적용 대상: 모든 서브에이전트 산출물(기획/코드/UI/문서)

## 0) 최신 변경 점검 결과 (본질 이탈 항목)
최근 커밋: `afe7ee4`, `783cb3f` (타격감/충돌/HUD 개선 중심)

식별된 본질 이탈(또는 미충족) 항목:
1. **라운드 상태머신 불일치**: v1의 `3초 카운트다운 → 플레이 → 결과화면`이 명시적으로 분리되어 있지 않음.
2. **결과 화면 정보 부족**: v1 요구인 `Top 참여자 3명`, `스킬 기여도`가 별도 결과 UI로 정리되지 않음.
3. **채팅 참여 규칙 단순화 위험**: 현재 명령 큐가 전역 쿨다운 중심이며, v1의 **유저별 쿨다운/기여 집계** 본질이 약함.
4. **기획 범위 외 과도 튜닝 위험**: 타격감/비주얼 폴리싱이 반복되면, 행사 운영 핵심(참여-스킬-결과 루프) 구현이 지연될 수 있음.
5. **스폰서 노출 고정 규칙 미약**: 이벤트 시 1~2초 카드 노출은 있으나, 결과 화면의 스폰서 기여 요약까지 연결이 약함.

---

## 1) 절대 준수 규칙 (5)
1. 모든 변경은 `기획서-v1.md`의 코어 루프(라운드/참여/스킬/결과)를 먼저 만족해야 한다.
2. 곡괭이 액션 게임성(채굴 타격, 회피, 리스크/리워드)을 약화시키는 기능 추가를 금지한다.
3. 신규 제안은 반드시 **MVP 범위(채팅 4~5개, 스킬 3개, 결과 화면)** 안에서만 허용한다.
4. HUD/연출 개선은 기능 완결(상태머신, 결과 집계) 이후에만 우선순위를 가진다.
5. 모든 파라미터 변경은 `config.json`으로 회귀 가능해야 하며 하드코딩 확장을 금지한다.

## 2) 금지 패턴 (5)
1. 기획서 없는 신규 모드/미니게임/메타 시스템 추가.
2. 채팅 참여를 장식으로 만들고 실제 게임 영향이 약한 구현.
3. 결과 화면 요구사항(총점/Top 참여자/스킬 기여도) 생략.
4. "타격감 개선" 명목으로 반복 리팩터링만 수행하고 핵심 미구현 항목을 방치.
5. 범위 밖 플랫폼/백오피스(웹 대시보드, 계정 연동 등) 선개발.

## 3) 매 사이클 리뷰 체크리스트 (예/아니오)
- [ ] 예 / 아니오: 이번 변경이 `기획서-v1.md`의 어떤 조항을 충족하는지 명시했는가?
- [ ] 예 / 아니오: 3초 카운트다운 → 플레이 → 결과 화면 상태 전이가 유지되는가?
- [ ] 예 / 아니오: 채팅 명령(최소 4개)이 실제 점수/생존/진행에 유의미한 영향을 주는가?
- [ ] 예 / 아니오: 후원사 스킬 3개가 발동/종료/표시까지 검증 가능한가?
- [ ] 예 / 아니오: 결과 화면에 총점/Top 참여자/스킬 기여 요약이 노출되는가?
- [ ] 예 / 아니오: 이번 변경이 곡괭이 액션 핵심(충돌/타격/위험 회피)을 강화했는가?
- [ ] 예 / 아니오: 범위 밖 기능 제안/구현이 포함되지 않았는가?
- [ ] 예 / 아니오: 실패 시 `git revert` 또는 설정 롤백 경로가 준비되어 있는가?

**판정 규칙:** 하나라도 "아니오"면 머지 보류.

## 4) 실패 시 롤백/수정 지침
1. **즉시 롤백:** 본질 이탈 커밋은 `git revert <sha>`로 되돌리고, 이유를 PR/작업 로그에 3줄로 기록.
2. **범위 재정렬:** 수정 작업은 `기획서-v1.md`의 미충족 항목 1개를 직접 해결하는 최소 변경으로 쪼갠다.
3. **재검증 후 재제안:** 체크리스트 전항목 "예" 증빙(스크린샷/실행 로그) 없으면 재머지 금지.
